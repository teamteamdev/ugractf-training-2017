# Give me flag

## Write-up

Это — один из самых простых тасков на веб.

В заголовке страницы написано `givemeflag();`, а подсказка говорит «просто попросить флаг».

Но никаких полей ввода нет. Куда же тогда можно ввести данные?

Ответ — в консоль браузера! Открываем консоль, вводим `givemeflag();` и получаем флаг.

Но как это работает? Заметим, что в коде страницы подключается скрипт `magicfile`. В нём — [непонятные японские смайлы](html/magicfile). Однако, всё, что находится в тегах `script`, оно выполняется интерпретатором JS. И, на самом деле, существует утилита [aaencode](http://utf-8.jp/public/aaencode.html) — как раз для обфусцирования JS.

Чтобы деобфусцировать скрипт, загуглим `aaencode decoder` и воспользуемся [первым же результатом](https://cat-in-136.github.io/2010/12/aadecode-decode-encoded-as-aaencode.html). Получаем следующее:

```javascript
window.givemeflag = function() {
    document.getElementById('offer').innerHTML = '&#x0075;&#x0063;&#x0074;&#x0066;&#x005F;&#x0076;&#x0065;&#x0072;&#x0079;&#x005F;&#x0068;&#x0061;&#x0072;&#x0064;&#x005F;&#x006A;&#x0073;&#x005F;&#x006F;&#x0062;&#x0066;&#x0075;&#x0073;&#x0063;&#x0061;&#x0074;&#x0065;';
}
```

После декодирования HTML entities (`#&xXXXX;`) также видим флаг.

Флаг: **uctf_very_hard_js_obfuscate**

